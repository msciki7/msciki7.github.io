---
title: "Chapter 1 Introduction"
excerpt: "What Operating System Do, Computer-System Architecture, Operating-System Operations, Process/Memory.Storage Management, Protectio and Security, Kernel Data Structures, Computing Evironments, Open-Source Operating Systems"

wirter: sohee km
categories:
  - Operating System
tags:
  - operating system

toc: true
toc_sticky: true
  
date: 2025-03-12
last_modified_at: 2025-03-12
---

&ensp;1. 운영체제가 할 일_What Operating Systems Do

&ensp;hardware: centrak processing unit(CPU), the memory, input/output(I/O) devices (CPU, I/O 장치로 구성되어 기본 계산용 자원을 제공한다.)<br/>
&ensp;application programs: define the ways in which these resources are used to solve users' computing problems(사용자의 계산 문제를 해결하기 위해 이들 자원이 어떻게 사용될지를 정의한다.)<br/>
&ensp;Operating system : controls and coordinates use of hardware among various application and users(다양한 사용자를 위해 다양한 사용자를 위해 다양한 응용 프로그램 간의 하드웨어 사용을 제어하고 조정한다.); Os is a resource allocator(컴퓨터 시스템은 문제를 해결하기 위해 요구된느 여러 가지 자원들, 즉 CPU 시간, 메모리 공간, 저장장치 공간, 입출력 장치 등을 가짐), contrl program(제어 프로그램은 컴퓨터의 부적절한 사용을 방지하기 위해 사용자 프로그램의 수행을 제어)<br/>
<p align="center"><img src="/assets/img/Operating System//1. Introdution//1-1.jpg" width="600"></p>

&ensp;The one program running at all times on the computer is the kernel.<br/>
&ensp;Booting: bootstrap program is loaded at power-up or rebot, 일반적으로 ROM, EPROM에 저장, firmware으로 알려짐, Loads operating system kernel and starts execution<br/>
컴퓨터를 커면 부트스트랩 프로그램(Bootstrap program)이라는 초기화 프로그램이 실행된다. 이 프로그램을 컴퓨터의 ROM(Read-Only Memory)이나 EEPROM(Electrically Erasable)에 저장되어 있으며 주로 펌웨어(Firmware)라고 불린다. 부트스트랩 프로그램은 시스템을 초기화하고 부트로더(Boot loader)를 실행한다.(멀티부팅 컴퓨터의 경우 부트로더가 여러 운영체제를 가리키고 있는데 이 경우엔 어떤 운영체제를 실행할지 선택해야 한다.)그리고 부트로더는 최종적으로 운영체제를 실행하게 된다.

&ensp;커널이 로드, 실행되면 시스템과 사용자에게 서비스를 제공해야 한다. 이때 일부 서비스는 커널 외부에서 제공되는데 이들은 부팅할 때 메모리에 로드되는 시스템 프로세스(System processes)나 시스템 데몬(System daemons)이다. 

---------------------------------------------------------------------------------------------------------------------------------------------------

&ensp;2. 컴퓨터 시스템의 구성_Computer-System Organization<br/>

&ensp;현대의 범용 컴퓨터 시스템은 하나 이상의 CPU와 구성요소와 공유 메모리 사이의 액세스를 제공하는 공통 버스를 통해 연결된 여러 장치 컨트롤러로 구성. 장치 컨트롤러는 일부 로컬 버퍼 저장소와 특수 목적 레지스터 집합을 유지 관리. 장치 컨트롤러는 제어하는 주변 장치와 로컬 버퍼 저장소 간에 데이터를 이동. 일반적으로 운영체제에는 각 장치 컨트롤러마다 **장치 드라이버**가 있음. CPU와 장치 컨트롤러는 병렬로 실행되어 메모리 사이클을 놓고 경쟁함, 공유 메모리를 질서 있게 액세스하기 위해 메모리 컨트롤러는 메모리에 대한 액세스를 동기화함. 장치 컨트롤러는 CPU에게 it has finished its operating by causing an interrupt라고 알린다.<br/>
<p align="center"><img src="/assets/img/Operating System//1. Introdution//1-2.jpg" width="600"></p>

&ensp;2_1. 인터럽트(Interrupts)<br/>

&ensp;장치 컨트롤러는 레지스터의 내용을 검사하여 수행할 작업을 결정한다. 컨트롤러는 장치에서 로컬 버퍼로 데이터 전송을 시작한다. 데이터 전송이 완료되면 장치 컨트롤러는 장치 드라이버에게 작업이 완료되었음을 알린다. 컨트롤러는 장치 드라이버에게 작업을 완료했다는 사실을 인터럽트를 통해 이루어진다. CPU는 인터럽트를 위한 서비스 루틴이 위치한 시작 위치를 가지고 있다.(이 위치는 Interrupt vector_인터럽트 벡터에 저장장) 보통 컴퓨터는 여러 작업을 동시에 처리하는데 이때 당장 처리해야 하는 일이 생겨서 기존의 작업을 잠시 중단해야 하는 경우 인터럽트 신호를 보낸다. 그러면 커널은 작업을 멈추고 인터럽트를 처리한 뒤 다시 기존 작업으로 돌아온다.<br/> 
인터럽트는 하드웨어나 소프트웨어에 의해 발생할 수 있으며, 소프트웨어에 의해 발생하는 인터럽트는 트랩이라고 부른다. 하드웨어의 경우 시스템 버스(System bus)를 통해 CPU에 신호를 보냄으로써 인터럽트를를 발생시키고 소프트웨어는 시스템 골(System call)이라는 특별한 명령으로 인터럽트를 발생시킨다.
<p align="center"><img src="/assets/img/Operating System//1. Introdution//1-3.jpg" width="600"></p>

Interrupt transfers control to the interrupt service routine generally through the interrupt vector which contains the addresses of all the service routines. Interrupt architecture must save the address of the interrupted instruction. A trap or exeception is a software-generated interrupt caused either by an error or a user request. An operating system is interrupt diven. The operating system preserves the state of the CPU by storing registers and the program counter<br/>

&ensp;CPU 하드웨어에는 인터럽트 요청 라인이라는 선이 있는데 이는 하나의 명령어의 실행을 완료할 때마다 CPU가 이 선을 감지한다. CPU가 컨트롤러가 인터럽트 요청 라인에 신호를 보낸 것을 감지하면 인터럽트 번호를 읽고 이 번호를 인터럽트 벡터의 인덱스로 사용하여 인터럽트 핸들러 루틴(interrupt-handler routine)으로 점프한다.
<p align="center"><img src="/assets/img/Operating System//1. Introdution//1-6.jpg" width="600"></p>

&ensp;Interrupt Handling
&ensp;현대 운영체제들은 대부분 인터럽트 주도적(Interrupt driven)이다. 인터럽트가 발생하기 전까지 CPU는 대기상태에 머문다. 반면 폴링(Polling)의 경우 주기적으로 이벤트를 감시해 처리 루틴을 실행한다. 이렇게 하면 컴퓨팅 자원을 낭비하기 되기 때문에 인터럽트 주도적으로 설계하는 것이다.

---------------------------------------------------------------------------------

&ensp;3. 저장 장치 관리(Storage Mangagement)
&ensp;모든 프로그램은 메인 메모리에 로드되어 실행되며 메인 메모리는 보통 RAM(Random-Access Memory)라고 부른다. 하지만 RAM은 모든 프로그램을 담기엔 너무 작고 비싸다. 또한 전원이 나가면 저장된 데이터가 모두 사라지는 휘발성(Volatile)장치이다. 그래서 보조기억장치가 필요하다.<br/>
자기테이프(Magnetic tapes), 광학디스크(Optical disk), 자기디스크(Magnetic disk), SSD(Solid-sate drives)는 비휘발성(Non-volatile)기억장치다. 반면 메인 메모리, 캐시(Cache), 레지스터(Registers)는 휘발성 기억장치다.<br/> 
&ensp;파일시스템 관리<br/>
-파일은 파일 생성자에 의해 정의된 관련 정보의 집합체.<br/>
-컴퓨터는 여러 타입의 물리적 매체에 정보를 저장할 수 있음.<br/>
-각 매체는 Disk-Drive, Tape-Drive와 같은 장치에 의해 제어되며 이들 장치 또한 독특한 방식을 가지고 있음.<br/>
Main memory(DRAMs) - only large storage media that the CPU can access directly<br/>
-용량이 작고 휘발성(volatile)이기 때문에 내용을 저장하기 위해 보조 저장 장치를 제공함<br/>
-보조저장장치(Secondary storage) - extension of main memory that provides large non-volatile storage capacity, 일반적으로 하드 디스크 드라이브(HDD)와 비휘발성 메모리(NVM)장치로 프로그램과 데이터 모두를 위한 저장소를 제공한다.<br/>
 -> Hard disk drives(HDD) - rigid metal or glass platters covered with magetic recording material, 트랙(tracks): 플래터(자기 디스크) 위에서 원형으로 구성된 데이터 저장 공간, 섹터(sector) : 트랙을 일정한 크기로 나눈 데이터 저장 단위<br/>
 disk controller : HDD와 컴퓨터(메인보드, CPU)간의 데이터를 관리하고 전송하는 장치.<br/>
->Solid-state drives(SSD) : faster than hard disks, nonvolatile<br/>

&ensp;캐싱(Caching) : 정보는 저장 장치에 보관되지만 정보를 사용할 때보다 빠르게 처리하기 위해 Cache에 일시적으로 복사된다.(main memory can be viewed as a cache for secondary storage)<br/>
-cache에 해당 정보가 없을 경우, Main Memory System으로부터 그 정보를 가져와서 사용해야 한다. 이때 이 정보가 다음에 다시 사용될 확률이 높다는 가정이 있다면 그 정보를 Cache에 넣게된다.<br/>
Cache의 크기에 한계가 있기 때문에 캐시 관리(Cache Management)가 설계의 중요한 문제이다.

&ensp;Device controller : 하드웨어 장치와 컴퓨터 사이에서 데이터 전송을 관리하는 하드웨어 장치 (provides uniform interface between controller and kernel)
&ensp;Device dirver : 운영체제(OS)와 디바이스 컨트롤러 간의 통신을 담당하는 소프트웨어
&ensp;Storage systems organized in hierarchy : Speed, Cost, Volatility
<p align="center"><img src="/assets/img/Operating System//1. Introdution//1-5.jpg" width="600"></p>

---------------------------------------------------------------------------------

&ensp;4. 입출력 구조(I/O Structure)

&ensp;시스템의 신뢰성과 성능에 미치는 영향 때문에 장치들의 다양한 특질 때문에 운영체제 코드의 많은 부분들이 입출력을 관리하는데 할애.<br/>
디바이스 드라이버를 이용하는 인터럽트 구동 방식은 적은 양의 데이터를 전송하는 데에는 문제가 없으나 디스크 입출력과 같은 대량의 데이터를 전송하는 데에 높은 Overhead를 초래한다. 디바이스와 메모리는 DMA(Direct Memory Access)라는 것을 할 수 있음. (DMA는 하드웨어들이 메모리에 직접 접근하여 읽거나 쓸 수 있도록 하는 기능)
system call - request to the OS to allow user to wait for I/O completion (운영체제 커널이 제공하는 서비스에 접근하기 위해 사용되는 인터페이스 -> 필요한 이유? : 컴퓨터에서 응용 프로그램은 상용자 모드에서 실행되지만 하드웨어 자원을 직접 다룰 수 없어 대신 커널 모드에서 실행되는 운영체제가 관리)
Device-status table - contains entry for each I/O device indicating its type, address, and state
<p align="center"><img src="/assets/img/Operating System//1. Introdution//1-4.png" width="600"></p>

&ensp;Direct Memory Access(DMA)
&ensp;CPU를 거치지 않고 하드웨어 장치가 메모리와 직접 데이터를 주고받는 방식<br/>
일반적으로 CPU가 모든 데이터 전송을 관리하지만 DMA를 사용하면 CPU의 개입 없이도 입출력 장치가 직접 메모리와 데이터를 주고 받을 수 있다. 인터럽트 구동 I/O의 형태는 소량의 데이터를 이동하는 데는 좋지만 NVS I/O와 같은 대량 데이터 이동에 사용될 때 높은 오버헤드를 유발할 수 있다.
---------------------------------------------------------------------------------

&ensp;5. 컴퓨터 시스템 구조(Computer System Architecture)<br/>
&ensp;단일-처리기 시스템(Single-Processor Systems): 단일 처리기 시스템은 사용자의 process 명령어를 포함한 범용 instruction을 수행할 수 있는 하나의 주 CPU를 가진다.<br/>
거의 대부분의 시스템들이 특수 목적의 전용 처리기를 가지고 있다.(가령 디스크 프로세서는 디스크 연산만 수행하고 키보드 프로세서는 키보드 연산만 수행하는 식)<br/>
이 전용 처리기는 디스크나 키보드 또는 그래픽 제어기와 같은 특정 장치 처리기의 형태로 제공되거나 메인 프레임에서와 같이 시스템의 구성요소들 간의 데이터를 빠르게 전송할 수 있는 입출력 처리기와 같은 범용 처리기에 가까운 형태로 제공될 수도 있다.<br/>
&ensp;다중-처리기 시스템(Multi-processors Systems; also known as parallel systems,tightly-coupled systems): 하나 이상의 처리기들을 가지며 컴퓨터 버스, Clock, Memory와 주변 장치를 공유 <br/>
장점<br/> 
1. 처리량 증가(Increased throughput): 프로세서가 늘어나면 더 빠른 시간 안에 연산을 수행할 수 있다. 그러나 N 프로세서의 속도 향상 비율은 N이 아니다. 여러 프로세서가 하나의 작업에 협력할 때 모든 프로세서가 올바르게 작동하게 유지하는 데 일정한 양의 오버헤드가 발생한다.<br/>
2. 규모의 경제(Economy of scale): 멀티 프로세서 시스템은 여러 대의 싱글 프로세서 시스템을 구축하는 것보다 돈이 적게 든다. 멀티 프로세서 시스템은 주변장치를 공유할 수 있기 때문이다. 
3. 신뢰성의 증가(Increased reliability): 여러 프로세서에 분산될 수 있다면 하나의 프로세서가 작동을 멈춰도 전체 시스템은 느려질 뿐 멈추지 않는다. 이런 식으로 성능이 나빠지지만 작동은 가능하도록 하는 것을 우아한 성능저하(Graceful degradation)라고 부른다. 이렇게 성능을 저하함으로써 작업을 계속 유지하는 시스템을 장애 허용 시스템(Fault tolerant)이라고 부른다.

&middot; Asymmetric Multiprocessing - 여러 개의 CPU가 서로 다른 역할을 수행하는 다중 처리 방식이다.(each processor is assigned a specie task) 특정 CPU가 메인 역할을 하고 나머지 CPU는 보조 역할을 수행한다.<br/>
&ensp;Symmetric Multoprocessing - 모든 CPU가 동일한 역할을 수행하는 다중 처리 방식.(each processor performs all tasks) CPU 간 역할이 동일하고 균등하게 작업을 분배. 하나의 메모리를 공유하며 다중 작업에 유리하다. 작업이 들어오면 CPU 중 하나가 자동으로 할당받아 처리 -> 작업량이 많아지면 다른 CPU도 동일한 방식으로 추가 작업 수행
&ensp;Device controller : 하드웨어 장치와 컴퓨터 사이에서 데이터 전송을 관리하는 하드웨어 장치 (provides uniform interface between controller and kernel)
&ensp;Device dirver : 운영체제(OS)와 디바이스 컨트롤러 간의 통신을 담당하는 소프트웨어
&ensp;Storage systems organized in hierarchy : Speed, Cost, Volatility
<p align="center"><img src="/assets/img/Operating System//1. Introdution//1-7.jpg" width="600"></p>

&middot;A Dual-Core Design
&ensp;최근 CPU 설계 트렌드는 하나의 칩(Chip)에 코어(Cores)를 늘리는 것이다. 이러한 멀티 프로세서 시스템을 멀티코어(Multicore)라고 부른다. 칩 내부의 통신(On-chip communication)이 칩 사이의 통신(Between-chip communication)보다 더 빠르기 때문에 여러 개의 칩에 하나의 코어만 두는 시스템보다 더 효율적이다.
<p align="center"><img src="/assets/img/Operating System//1. Introdution//1-8.jpg" width="600"></p>

&ensp;Device controller : 하드웨어 장치와 컴퓨터 사이에서 데이터 전송을 관리하는 하드웨어 장치 (provides uniform interface between controller and kernel)
&ensp;Device dirver : 운영체제(OS)와 디바이스 컨트롤러 간의 통신을 담당하는 소프트웨어
&ensp;Storage systems organized in hierarchy : Speed, Cost, Volatility




----------------------------------------------------------------------------------
