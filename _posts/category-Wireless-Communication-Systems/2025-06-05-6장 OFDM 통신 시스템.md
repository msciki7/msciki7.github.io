---
title: "6장 OFDM 통신 시스템"
excerpt: ""

wirter: sohee Kim
categories:
  - Wireless Communication Systems
tags:
  - Wireless Communication System

toc: true
use_math: true 
toc_sticky: true

date: 2025-06-05
last_modified_at: 2025-06-05
---

OFDM 개요
======

&ensp;Multicarrier 개념<br/>
&ensp;비유: 샤워기 + 수도꼭지<br/>
* 싱글 캐리어: 뜨거운 물과 찬물이 합쳐져 하나의 파이프(수도꼭지)로 나옴 → 물줄기 하나 = 하나의 신호
* 멀티 캐리어: 여러 개의 작고 얇은 물줄기로 나뉘어서 샤워기로 나옴 -> 즉, 하나의 큰 데이터를 작게 나눠서 여러 갈래로 동시에 전송하는 것

<p align="center"><img src="/assets/img/Wireless Communication Systems/6장 OFDM 통신 시스템/6-1.png" width="600"></p>

&ensp;핵심 개념 요약<br/>
* Multicarrier: 데이터를 작게 쪼개서 여러 개의 주파수(=carrier)에 나눠 전송하는 방식
* 각각이 주파수는 낮은 속도로 작게 전송하므로 -> 신호가 망가지거나 간섭이 생겨도 전체가 망가지지 않음

&ensp;비트(데이터를 얼마나 빠르게 전송하거나 처리하는지를 나타내는 척도)는 작아지지만 병렬로 보내니까 전체 속도는 여전히 빠르다.<br/>

&ensp;비유: 롯데월드 기차놀이 + 줄서기<br/>
* 사람들이 줄 서서 한 줄로 들어오는 거 -> 직렬 데이터(Serial), 즉 우리가 보낼 데이터 원본은 하나의 흐름
* 각 사람(비트)이 기차 좌석에 병렬로 앉음 -> 이게 병렬 변환(Serial to Parallel), 각각의 좌석 = 하나의 서브캐리어(subcarrier)

&ensp;OFDM의 진짜 의미<br/>
&ensp;OFDM은 멀티캐리어 방식 중 하나로, 아주 가까운 주파수들에 데이터를 나눠 실어 보내는 기술<br/>

&ensp;핵심 구조: <br/>
<p align="center"><img src="/assets/img/Wireless Communication Systems/6장 OFDM 통신 시스템/6-2.png" width="600"></p>

&ensp;-> 따라서 총 데이터량 = 2 x 14 = 28 bits/symbol<br/>

&ensp;OFDM은 한 줄의 데이터를 병렬로 나눠 여러 개의 작은 주파수에 실어서 전송하는 기술이고, 마치 샤워기처럼 여러 물줄기로 동시에 데이터를 보내는 것이다.<br/>

&ensp;왜 OFDM이 중요한가?<br/>
* 무선에서 전파가 깨져도 전체 신호 손실이 적다
* 한 번에 많은 데이터 전송이 가능하다
* 5G, Wi-Fi, LTE 등 거의 모든 고속 무선 통신에서 필수!

&ensp;Discrete Fourier Transform(DFT)<br/>
<p align="center"><img src="/assets/img/Wireless Communication Systems/6장 OFDM 통신 시스템/6-3.png" width="600"></p>

&ensp; IDFT (Inverse Discrete Fourier Transform) — 보낼 때<br/>
&ensp;비유: 여러 장난감을 하나의 상자에 포장하기<br/>
1. 각 줄(화살표)은 하나의 서브캐리어 -> 이 안에 0 또는 1에 해당하는 데이터(도형)가 있다.
2. 여러 서브캐리어의 데이터를 IDFT를 통해 하나의 **OFDM 심볼(상자)**로 포장함
3. 이 상자를 **트럭(캐리어)**에 실어서 쏨

&ensp;즉, 각기 다른 주파수의 데이터를 하나로 합치는 과정이 IDFT<br/>

&ensp;DFT (Discrete Fourier Transform) — 받을 때<br/>
&ensp;비유: 상자 열어서 도형을 다시 분류하기<br/>
1. 트럭이 가져온 OFDM 상자에는 원, 삼각형, 하트, 십자가 등 여러 개의 도형(데이터)이 섞여 있다.
2. 이걸 DFT를 써서 각각의 도형(서브캐리어, 주파수)에 정확하게 분리
3. 왜 잘 분리되냐면? -> 이 서브캐리어들이 **rthogonal(직교)**하기 때문이다.

&ensp;"직교성"이 중요한 이유<br/>
&ensp;서로 간섭하지 않는 주파수 조합이기 때문에 각 데이터를 뽑을 때 다른 신호의 영향 없이 정확하게 꺼낼 수 있다. 그래서 ∫ 직교한 신호끼리 곱하면 = 0, 같은 신호끼리 곱하면 = 1이 돼서 완벽하게 분리 가능하다.<br/>

&ensp;요약<br/>
<p align="center"><img src="/assets/img/Wireless Communication Systems/6장 OFDM 통신 시스템/6-4.png" width="600"></p>

Orthogonality
------

&ensp;직교성(Orthogonality): 서로 간섭하지 않고 완벽하게 구분할 수 있는 성질이다. <br/>
&ensp;OFDM에서도 각각의 서브캐리어 주파수가 서로 직교하게 설계되어 있어서 받는 쪽(수신기)이 정확하게 분리해서 복원할 수 있다.<br/>

<p align="center"><img src="/assets/img/Wireless Communication Systems/6장 OFDM 통신 시스템/6-5.png" width="600"></p>

&ensp;왼쪽 상단 그림<br/>
&ensp;여러 도형이 들어간 상자를 어떤 도형과 곱한 뒤 적분(∫)해 보면, 해당 도형에만 반응하고 나머지 0이 된다.<br/>

&ensp;즉 이 도형만 찾고 싶어 할 때 다른 도형이 방해하지 않음 -> 이게 직교성<br/>

&ensp;오른쪽 위: 수학적 정의<br/>

<p align="center"><img src="/assets/img/Wireless Communication Systems/6장 OFDM 통신 시스템/6-12.png" width="600"></p>

* 서로 다른 주파수끼리는 적분해도 0
* -> 서로 간섭하지 않음

<p align="center"><img src="/assets/img/Wireless Communication Systems/6장 OFDM 통신 시스템/6-6.png" width="600"></p>

&ensp;왼쪽: 전송 과정 (IDFT)<br/>
* 다양한 도형(데이터)들을 한 상자에 포장해서 전송

&ensp;오른쪽: 수신 과정 (DFT)<br/>
* 수신기는 그 상자를 열어서 직교성을 이용한다. 각각의 도형을 정확하게 꺼냄

&ensp;✔️ → 직교성이 유지되면 Bit 1, Bit 0을 정확히 판별 가능<br/>
&ensp;❌ → 직교성이 깨지면 Bit error 발생 (도형 잘못 꺼냄)<br/>

OFDM Modulation
======

&ensp;OFDM: 데이터를 하나의 주파수(통로)로 보내지 않고 여러 개의 주파수(통로)로 나눠서 동시에 보내는 방식이다. (마치 택배를 나눠서 여러 사람에게 동시에 맡기는 것처럼)<br/>

<p align="center"><img src="/assets/img/Wireless Communication Systems/6장 OFDM 통신 시스템/6-7.png" width="600"></p>

1. 왼쪽 – 데이터 준비 (S/P 변환)
* 데이터 $X_0, X_1, X_2, X_3$ 는 우리가 보내고 싶은 정보이다.(예를 들어 QAM 심볼이라면 -> 디지털 신호 블록이라 보면 된다.)
* 이 데이터는 직렬(serial)이니까 -> S/P 변환을 통해 병렬로 4개로 나눈다.(한 번에 여러 개 보내기 위해서)

2. 중앙 – 각 데이터에 주파수 곱하기
* 각각의 데이터 $X_k$ 에 $e^{j2\Pi f_kt}$ 이걸 곱한다. 

&ensp;각 데이터를 다른 주파수로 바꿔주기 위해<br/>

* 마치 사람이 각각 다른 목소리 주파수로 말하는 것처럼: 
  - X₀ -> 낮은 목소리(f₀)
  - X₁ -> 중간 목소리(f₁)
  - X₂ -> 높은 목소리 (f₂)
  - X₃ → 더 높은 목소리 (f₃)

* 이걸 다 합치면: 

<p align="center">$X_0e^{j2\Pi f_0t} + X_1e^{j2\Pi f_1t} + X_2e^{j2\Pi f_2t} + X_3e^{j2\Pi f_3t}$ </p>

&ensp;-> 즉 여러 명이 다른 주파수로 동시에 말하는 것과 같다.<br/>

3. 무선으로 전송 (5번 화살표)
* 이제 이렇게 만들어진 신호 x(t)는 하나의 전파 신호로 전송
* 이 부분이 시간 영역 신호(Time domain signal) 즉 실제 전파로 보낼 수 있는 형태

4. 오른쪽 - 수신기에서 신호 복원(DFT)
* 수신된 x(t)를 다시 주파수별로 나눠서 원래의 데이터 X₀, X₁, X₂, X₃를 복원한다. 
* 이 때 쓰는 수식:

<p align="center">$X_k = \int x(t)e^{-je\Pi f_kt}dt$</p>

&ensp;여기서 중요한 건 직교성 덕분에 각각의 $f_k$ 성분만 정확히 골라낼 수 있다. -> 다른 신호에 간섭을 안 받는다.<br/>

&ensp;이런 시스템을 쓰는 이유<br/>
<p align="center"><img src="/assets/img/Wireless Communication Systems/6장 OFDM 통신 시스템/6-8.png" width="600"></p>

&ensp;<b>OFDM Spectrum</b><br/>

<p align="center"><img src="/assets/img/Wireless Communication Systems/6장 OFDM 통신 시스템/6-9.png" width="600"></p>

&ensp;왼쪽 위 그래프 (①~④)
&ensp;각 주파수 $f_1, f_2, f_3, f_4$ 에 하나씩 서브 캐리어가 존재

* ①~④번은 각각 하나의 데이터 채널
* 각 서브캐리어는 종 모양으로 생긴 스펙트럼
* 겹쳐져 있지만, 중심에서는 서로 간섭 없이 존재함!

&ensp;이게 가능한 이유? -> 직교성 덕분<br/>
* 이 종 모양 곡선들의 중심이 다른 곡선의 0이 되는 지점에 위치함 -> 그래서 겹쳐도 간섭이 안 생긴다.

&ensp;오른쪽 위 그래프 (⑤)<br/>
&ensp;①~④를 합친 스펙트럼<br/>

* 다 합치면 이렇게 넓고 평평한 하나의 스펙트럼처럼 보인다.
* 실제 OFDM 신호는 이런 모양으로 전송된다.

&ensp;즉, 실제로는 여러 주파수를 쓰고 있지만 하나의 복합 신호처럼 동작함<br/>

&ensp; 아래 그래프 (⑥)<br/>
&ensp;실제 송신기에서 보이는 전체 OFDM 신호의 주파수 분포<br/>

* 왼쪽 아래는 일반적인 전력(power)스케일
* 오른쪽 아래는 dB 스케일로 표현한 그래프

&ensp;OFDM의 스펙트럼 특성 요약<br/>
<p align="center"><img src="/assets/img/Wireless Communication Systems/6장 OFDM 통신 시스템/6-10.png" width="600"></p>


&ensp;<b>복소 반송파 표현</b><br/>

&ensp;무선 신호는 전파로 보내야 하니까 우리가 가지고 있는 디지털 신호(데이터)를 전파 형태(sin/cos 신호)로 바꾸는 게 필요하다. 그리고 그걸 복소수(실수 + 허수)를 써서 더 쉽게 계산하고 표현할 수 있다. <br/>

&ensp;상황 비유<br/>
&ensp;두 개의 정보(데이터)를 보내고 싶다.<br/>
  - 하나는 길이 정보
  - 하나는 색깔 정보

&ensp;하지만 전파로는 하나만 보낼 수 있다. 그래서 이 두 가지를 하나로 섞는 방법을 생각해야 한다. -> 이때 쓰는 것이 바로 복소수 표현이다.<br/>

&ensp;전파 신호로 바꾸는 과정<br/>
&ensp;이걸 전파로 보내려면 다음처럼 만들어야 한다.<br/>

<p align="center">$Xe^{j2\Pi f_ct}$</p>

&ensp;이 식은 사실상 이렇게 생각하면 된다.: 복소수 데이터를 주파수 $f_c$ 에 실어서 보낸다.<br/>

<p align="center"><img src="/assets/img/Wireless Communication Systems/6장 OFDM 통신 시스템/6-11.png" width="600"></p>

&ensp;왼쪽 아래 회로 블록: 실제 동작<br/>

&ensp;1. 복소 지수식을 쪼갠다.<br/>

&ensp;전송하려는 신호는 $Xe^{j2\Pi f_ct}$ <br/>

&ensp;여기서: <br/>
* $X = X_I + jX_Q$
* $e^{j2\Pi f_ct} = cos(2\Pi f_ct) + jsin(2\Pi f_ct)$

&ensp;그럼 두 개를 곱하면<br/>
 <p align="center">$(X_I + jX_Q)(cos(2\Pi f_ct) + jsin(2\Pi f_ct))$</p>

&ensp;2. 전파는 실수(real part)만 보낼 수 있다.<br/>

&ensp;전파는 현실 세계에서 존재하는 진동(코사인 파형)이다.<br/>
&ensp;그래서 실제로 보내는 신호는:<br/>
<p align="center">$s(t) = Re[Xe^{j2\Pi f_ct}] = X_Icos(2\Pi f_ct) - X_Qsin(2\Pi f_ct)$</p>

&ensp;기준 서브캐리어의 스펙트럼 $S_0(f)$ <br/>
&ensp;정의<br/>

 <p align="center">$S_0(f) = P_{T_d}(f) = \int_{-T_d/2}^{T_d/2} e^{j 2\pi f t} \, dt$ </p>

&ensp;이건 주기 $T_d$ 동안 cos/sin 같은 진동 파형을 보내면 그것이 주파수 f에서 어떻게 보이는지(얼마나 세게 들어있는지)보여주는 식이다.<br/>

&ensp;결과 해석<br/>

 <p align="center">$S_0(f) = \frac{\sin(\pi f T_d)}{\pi f}$ </p>

* 이건 바로 sinc 함수이다.
* 그래프 모양은 종처럼 생겼고 중심으로 최대값, 양옆에선 점점 작아지고  0이 되는 지점들이 일정하게 있다.

&ensp;포인트: 간섭이 0이 되려면?<br/>
&ensp;다른 서브캐리어가 이 신호와 완벽하게 겹치지 않아야 한다. 그러려면 서로의 제로점(0되는 점)에 중심이 오도록 배치해야 한다.<br/>

 <p align="center">$\Pi fT_d = \Pi k \Rightarrow f = \frac{k}{T_d}$ </p>

&ensp;서브캐리어 주파수 간격을 $\frac{1}{T_d}$ 로 맞추면 서로 간섭을 안 함<br/>

&ensp;k번째 서브캐리어의 스펙트럼 $S_k(f)$ <br/>
&ensp;정의<br/>

<p align="center">$ S_k(f) = P_{T_d}(f - f_k) = \frac{sin[\Pi (f - f_k)T_d]}{\Pi (f - f_k)}$ </p>

* 즉 기준 sinc 함수 $S_0(f)$ 를 $f_k$ 만큼 오른쪽으로 이동시킨 것이다.
* 이렇게 k = 0, 1,.., N-1 서브캐리어를 서로 간격 $\frac{1}{T_d}$ 로 나눠서 배치하면 -> 모든 sinc 함수가 서로 직교하게 됨

