---
title: "chapter 10. 자바의 이벤트 처리"
excerpt: ""

wirter: sohee Kim
categories:
  - 문제해결 및 실습-Java
tags:
  - Java

toc: true
toc_sticky: true

date: 2025-10-30
last_modified_at: 2025-10-30
---

이벤트 기반 프로그래밍
=====

| 구분               | 설명                                                         |
| ---------------- | ---------------------------------------------------------- |
| **이벤트(Event)**   | 사용자 입력(클릭, 키보드 등), 센서 신호, 네트워크 데이터 수신 등 프로그램의 흐름을 바꾸는 “사건” |
| **이벤트 기반 프로그래밍** | 이벤트가 발생할 때마다 해당 이벤트를 처리하는 코드(리스너)가 실행되는 방식                 |
| **반대 개념**        | 배치 실행(batch): 개발자가 코드 순서를 직접 정해 순차적으로 실행                   |
| **핵심 구조**        | 이벤트 발생 → 이벤트 객체 생성 → 적절한 리스너 탐색 → 리스너 메소드 호출               |

&ensp;사용자 입력에 따라 흐름이 결정되는 프로그램<br/>

&ensp;이벤트 관련 구성요소<br/>

| 구성요소                         | 설명                                    |
| ---------------------------- | ------------------------------------- |
| **이벤트 소스 (Event Source)**    | 이벤트를 발생시키는 GUI 컴포넌트 (버튼, 텍스트필드 등)     |
| **이벤트 객체 (Event Object)**    | 발생한 이벤트의 상세 정보 (좌표, 키 코드, 클릭 횟수 등)    |
| **이벤트 리스너 (Event Listener)** | 이벤트가 발생했을 때 실행되는 코드 (인터페이스 구현)        |
| **이벤트 분배 스레드 (EDT)**         | JVM이 이벤트를 감지해 적절한 리스너로 전달하는 백그라운드 스레드 |

&ensp;이벤트 객체<br/>
* 이벤트가 발생할 때, 발생한 이벤트에 관한 정보를 가진 객체
* 이벤트 리스너에 전달됨
    - 이벤트 리스너 코드에서 이벤트가 발생한 상황을 파악할 수 있게 함
    

| 이벤트 객체        | 주요 정보               | 관련 메서드                                |
| ------------- | ------------------- | ------------------------------------- |
| `ActionEvent` | 버튼 클릭, 메뉴 선택 등      | `getSource()`, `getActionCommand()`   |
| `MouseEvent`  | 클릭 위치, 버튼 번호, 클릭 횟수 | `getX()`, `getY()`, `getClickCount()` |
| `KeyEvent`    | 눌린 키의 코드, 문자        | `getKeyCode()`, `getKeyChar()`        |
| `ItemEvent`   | 체크박스, 라디오버튼의 상태     | `getStateChange()`                    |

<p align="center"><img src="/assets/img/문제해결 및 실습-Java/chapter10. 자바의 이벤트 처리/10-1.png" width="600"></p>

&ensp;이벤트 객체가 포함하는 정보<br/>
* 이벤트 종류
* 이벤트 소스
* 이벤트가 발생한 화면 좌표
* 이벤트가 발생한 컴포넌트 내 좌표
* 버튼이나 메뉴 아이템에 이벤트가 발생한 경우 버튼이나 메뉴 아이템의 문자열
* 클릭된 마우스 버튼 번호
* 마우스의 클릭 횟수
* 키가 눌러졌다면 키의 코드 값과 문자 값
* 체크박스, 라디오버튼 등과 같은 컴포넌트에 이벤트가 발생하였다면 체크 상태

&ensp;이벤트에 따라 조금씩 다른 정보 포함<br/>
* ActionEvent 객체 : 액션 문자열
* MouseEvent 객체 : 마우스의 위치 정보, 마우스 버튼, 함께 눌러진 키 정보 등
* ItemEvent 객체 : 아이템의 체크 상태

&ensp;이벤트 소스 알아내기<br/>
* Object EventObject.getSource()
    - 발생한 이벤트의 소스 컴포넌트 리턴
    - Object 타입으로 리턴하므로 캐스팅하여 사용
    - 모든 이벤트 객체에 대해 적용

&ensp;이벤트 객체의 메소드<br/>
<p align="center"><img src="/assets/img/문제해결 및 실습-Java/chapter10. 자바의 이벤트 처리/10-2.png" width="600"></p>

&ensp;이벤트 객체와 이벤트 소스<br/>
<p align="center"><img src="/assets/img/문제해결 및 실습-Java/chapter10. 자바의 이벤트 처리/10-3.png" width="600"></p>

이벤트 리스너
=====

&ensp;특정 이벤트가 발생했을 때 호출될 콜백 메서드 집합을 가진 인터페이스(또는 그 구현체)<br/>
&ensp;역할: 이벤트가 발생하면 **이벤트 분배 스레드(EDT)**가 해당 리스너의 메서드를 호출해 처리 흐름을 넘김.<br/>
&ensp;모델: Java AWT/Swing의 Event Delegation Model — “소스가 이벤트를 만들고, 리스너가 위임받아 처리<br/>

&ensp;구성 요소<br/>
* 이벤트 소스: JButton, JTextField, 컨테이너 등 (이벤트를 “발생시키는” 주체)
* 이벤트 객체: ActionEvent, MouseEvent, KeyEvent… (발생 상황·좌표·키코드 등 정보 보유)
* 이벤트 리스너: ActionListener, MouseListener, KeyListener… (콜백 메서드로 처리)

&ensp;리스너 인터페이스와 메소드<br/>
<p align="center"><img src="/assets/img/문제해결 및 실습-Java/chapter10. 자바의 이벤트 처리/10-4.png" width="600"></p>

&ensp;리스너 등록&호출까지의 흐름<br/>
1. omponent.addXXXListener(listener)로 등록
2. 사용자가 입력 → JVM/EDT가 이벤트 감지
3. EDT가 적절한 이벤트 객체 생성 후 등록된 리스너 메서드 호출
4. 리스너에서 업데이트(모델/뷰 변경) 수행 (Swing UI 변경은 반드시 EDT에서!)

# 리스너 구현 3가지

&ensp;독립(외부) 클래스<br/>
```java
class MyActionListener implements ActionListener {
    @Override public void actionPerformed(ActionEvent e) {
        System.out.println("클릭!");
    }
}
// 등록
button.addActionListener(new MyActionListener());
```

* 장점: 재사용, 테스트 용이
* 단점: GUI 멤버 접근엔 참조 전달 필요

&ensp;내부 클래스<br/>
```java
public class MyFrame extends JFrame {
    private JLabel la = new JLabel("...");
    public MyFrame() {
        button.addActionListener(new MyButtonListener());
    }
    private class MyButtonListener implements ActionListener {
        @Override public void actionPerformed(ActionEvent e) {
            la.setText("변경"); // 바깥 클래스 멤버 접근 쉬움
        }
    }
}
```

* 장점: 바깥 GUI 멤버 접근 쉽다.
* 단점: 클래스 수 증가

&ensp;익명 클래스<br/>
```java
button.addActionListener(new ActionListener() {
    @Override public void actionPerformed(ActionEvent e) {
        doAction();
    }
});
```

* 장점: 간단한 콜백에 최적
* 단점: 길어지면 가독성↓

`예제 10-1`
&ensp;독립 클래스로 Action 이벤트의 리스너 작성<br/>
```java
import javax.swing.*;
import java.awt.event.*;
import java.awt.*;

public class IndepClassListener extends JFrame {
    public IndepClassListener() {
        setTitle(“Action 이벤트 리스너 예제”);
        setDefaultCloseOperation(Jframe.EXIT_ON_CLOSE);
        Container c = getContentPane();
        c.setLayout(new FlowLayout());
        Jbutton btn = new Jbutton(“Action”);
        btn.addActionListener(new MyActionListener()); // Action 리스너 달기
        c.add(btn);

        setSize(350, 150);
        setVisible(true);	}
    }
    public static void main(String [] args) {
        new IndepClassListener();
    }
}
class MyActionListener implements ActionListener { 
    public void actionPerformed(ActionEvent e) {
        JButton b = (JButton)e.getSource();
        if(b.getText().equals("Action"))
            b.setText("액션");
        else
            b.setText("Action");			
    }
}
```

<p align="center"><img src="/assets/img/문제해결 및 실습-Java/chapter10. 자바의 이벤트 처리/10-6.png" width="600"></p>

`예제 10-2`
&ensp;
```java
import javax.swing.*;
import java.awt.event.*;
import java.awt.*;

public class InnerClassListener extends JFrame {
    public InnerClassListener() {
        setTitle("Action 이벤트 리스너 예제");
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        Container c = getContentPane();
        c.setLayout(new FlowLayout());
        JButton btn = new JButton("Action");
        btn.addActionListener(new MyActionListener());
        c.add(btn);

        setSize(350, 150);
        setVisible(true);	
    }

    private class MyActionListener implements ActionListener {
        public void actionPerformed(ActionEvent e) {
            JButton b = (JButton)e.getSource();
            if(b.getText().equals("Action"))
                b.setText("액션");
            else
                b.setText("Action");
            // InnerClassListener의 멤버나 JFrame의 멤버를 호출할 수 있음
            InnerClassListener.this.setTitle(b.getText()); // 프레임 타이틀에
                                                                     버튼 문자열을 출력한다.
        }
    }	

    public static void main(String [] args) {
        new InnerClassListener();
    }
}
```

<p align="center"><img src="/assets/img/문제해결 및 실습-Java/chapter10. 자바의 이벤트 처리/10-7.png" width="600"></p>

`예제 10-3`
&ensp;익명 클래스로 Action 이벤트 리스너 만들기 <br/>
```java
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class AnonymousClassListener extends JFrame {
    public AnonymousClassListener() {
        setTitle("Action 이벤트 리스너 작성");
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        Container c = getContentPane();
        c.setLayout(new FlowLayout());
        JButton btn = new JButton("Action");
        c.add(btn);

        btn.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                JButton b = (JButton)e.getSource();
                if(b.getText().equals("Action"))
                    b.setText("액션");
                else
                    b.setText("Action");
                    setTitle(b.getText());
            }
        });

        btn.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                JButton b = (JButton)e.getSource();
                if(b.getText().equals("Action"))
                    b.setText("액션");
                else
                    b.setText("Action");
                    setTitle(b.getText());
            }
        });

        setSize(350, 150);
        setVisible(true);
    }

    public static void main(String [] args) {
        new AnonymousClassListener();
    }
}
```

`예제 10-4`
&ensp;컨텐트팬의 아무 위치에 마우스 버튼을 누르면 마우스 포인트가 있는 위치로 "hello" 문자열을 옮기는 스윙 응용프로그램을 작성하라.<br/>
<p align="center"><img src="/assets/img/문제해결 및 실습-Java/chapter10. 자바의 이벤트 처리/10-8.png" width="600"></p>

```java
import javax.swing.*;
import java.awt.event.*;
import java.awt.*;

public class MouseListenerEx extends JFrame {
    private JLabel la = new JLabel("Hello"); 

    public MouseListenerEx() {
        setTitle("Mouse 이벤트 예제");
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        Container c = getContentPane();
        c.addMouseListener(new MyMouseListener());

        c.setLayout(null);
        la.setSize(50, 20);
        la.setLocation(30, 30);
        c.add(la);

        setSize(250, 250);
        setVisible(true);
    }
    
    class MyMouseListener implements MouseListener {
            public void mousePressed(MouseEvent e) {
                int x = e.getX();
                int y = e.getY();
                la.setLocation(x, y);
            }
    
            public void mouseReleased(MouseEvent e) {}
            public void mouseClicked(MouseEvent e) {}
            public void mouseEntered(MouseEvent e) {}
            public void mouseExited(MouseEvent e) {}
        }
    
        public static void main(String [] args) {
            new MouseListenerEx();
        }
} 
```

&ensp;어댑터(Adapter) 클래스의 필요성<br/>
* MouseListener처럼 메서드가 여러 개인 인터페이스는 전부 구현해야 하는 부담이 큼.
* 어댑터 사용: 필요한 메서드만 오버라이드.

```java
contentPane.addMouseListener(new MouseAdapter() {
    @Override public void mousePressed(MouseEvent e) {
        // 필요한 것만
    }
});
```

<p align="center"><img src="/assets/img/문제해결 및 실습-Java/chapter10. 자바의 이벤트 처리/10-5.png" width="600"></p>

* 대표: MouseAdapter, KeyAdapter, WindowAdapter, FocusAdapter, ComponentAdapter 등
* 없음: ActionAdapter (왜? ActionListener는 메서드가 1개라서)

`예제 10-5`
&ensp;MouseAdapter를 이용하여 예제 10-4를 수정하라.<br/>
```java
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;]

public class MouseAdapterEx extends JFrame {
    private JLabel la = new JLabel("Hello"); 

    public MouseAdapterEx() {
        setTitle("Mouse 이벤트 예제");
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        Container c = getContentPane();
        c.addMouseListener(new MyMouseAdapter()); 

        c.setLayout(null);
        la.setSize(50, 20);
        la.setLocation(30, 30);
        c.add(la);

        setSize(250, 250);
        setVisible(true);
    }	

    class MyMouseAdapter extends MouseAdapter {
            public void mousePressed(MouseEvent e) {
                int x = e.getX();
                int y = e.getY();
                la.setLocation(x, y);
            }
        }
    
        public static void main(String [] args) {
            new MouseAdapterEx();
        }
} 
```